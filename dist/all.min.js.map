{"version":3,"sources":["all.min.js","_.mixins.js","cn-util.js"],"names":["nth","array","n","length","l","isFalsy","x","_","isObject","isDate","isRegExp","isEmpty","every","isTrulyEmpty","_len","arguments","emptyVals","Array","_key","undefined","some","v","y","_ref","apply","concat","allEqual","vals","first","isArray","map","JSON","stringify","matches","uniq","empty","obj","each","val","key","add","slice","call","reduce","a","b","parseFloat","Math","round","subtract","multiply","divide","p","pow","floor","ceil","percentage","overflow","result","range","start","end","Number","dir","push","titleCase","str","flow","words","partial","capitalize","w","join","mixin","_typeof","Symbol","iterator","constructor","prototype","angular","module","factory","$rootScope","cnSession","EVENTS","buildParams","params","reduceRight","prev","cur","assign","isString","toJson","buildSref","state","_len2","_key2","cleanModel","model","cleanModelVal","modelVal","forEach","diff","original","current","deep","removeStrategy","getModified","copy","shallow","removeHandler","removeStretegies","eq","equals","modified","cleanEmptyJson","tmp","i","ret","k","get","isUndefined","undefinedAndFalsy","ta","tb","ks","getTime","toString","Object","create","charAt","isFunction","inheritCommon","from","to","extend","base","sub","ogProto","defineProperty","enumerable","value","constructErrorMessageAsHtml","errors","errorMessage","error","description","constructPopoverHtml","objectsArray","nameKey","idKey","object","popoverHtml","convertToLocalTime","ptTime","moment","isValid","dateInPT","localTime","user","timezone","tz","format","Date","toLocaleString","convertToPtTime","campaign","startDate","stopDate","convertToPtTimeString","startTime","endTime","$broadcast","notify","dateInLocal","filterObjectByKeys","keysToRemove","keys","filter","includes","delete","null","getUser"],"mappings":"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","file":"all.min.js","sourcesContent":["\"use strict\";\n\n(function () {\n  'use strict';\n\n  /**\n   * Some useful util functions to add to lodash/underscore\n   *\n   * author: dzuch\n   */\n\n  _.mixin({\n    allEqual: allEqual,\n    empty: empty,\n    add: add,\n    subtract: subtract,\n    multiply: multiply,\n    divide: divide,\n    round: round,\n    floor: floor,\n    ceil: ceil,\n    percentage: percentage,\n    isFalsy: isFalsy,\n    isTrulyEmpty: isTrulyEmpty,\n    /* deprecate if upgrading lodash to v4 */\n    nth: nth,\n\n    /* TODO: remove this, not needed and can achieve with lodash\n     * Override lodash's range to allow high to low ranges\n     */\n    range: range,\n    titleCase: titleCase\n  });\n\n  ////////\n\n  function nth(array, n) {\n    if (array && array.length) {\n      var l = array.length;\n      n += n < 0 ? l : 0;\n      if (n > l) return array[n];\n    }\n  }\n\n  function isFalsy(x) {\n    if (!x) return true;\n    if (_.isObject(x)) {\n      if (_.isDate(x) || _.isRegExp(x)) return false;\n      if (_.isEmpty(x)) return true;\n      return _.every(x, _.isFalsy);\n    }\n    return false;\n  }\n\n  function isTrulyEmpty(x) {\n    for (var _len = arguments.length, emptyVals = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      emptyVals[_key - 1] = arguments[_key];\n    }\n\n    return x === undefined || _.some(emptyVals, function (v) {\n      return x === v;\n    }) || _.isObject(x) && !x.length && _.every(x, function (y) {\n      var _ref;\n\n      return (_ref = _).isTrulyEmpty.apply(_ref, [y].concat(emptyVals));\n    });\n  }\n\n  function allEqual(vals) {\n    var first = _.first(vals);\n    if (_.isArray(first) && !_.isObject(_.first(first))) {\n      return _.allEqual(vals.map(function (v) {\n        return JSON.stringify(v);\n      }));\n    }\n    if (_.isObject(first)) {\n      return _.every(vals, _.matches(first));\n    }\n    return _.uniq(vals).length === 1;\n  }\n\n  function empty(obj) {\n    if (_.isArray(obj)) {\n      obj.length = 0;\n      return obj;\n    }\n    _.each(obj, function (val, key) {\n      delete obj[key];\n    });\n    return obj;\n  }\n\n  function add(x) {\n    x = _.isArray(x) ? x : [].slice.call(arguments);\n\n    return _.reduce(x, function (a, b) {\n      a = parseFloat(a);\n      b = parseFloat(b);\n      return (Math.round(a * 100) + Math.round(b * 100)) / 100;\n    });\n  }\n\n  function subtract(x) {\n    x = _.isArray(x) ? x : [].slice.call(arguments);\n\n    return _.reduce(x, function (a, b) {\n      a = parseFloat(a);\n      b = parseFloat(b);\n      return (Math.round(a * 100) - Math.round(b * 100)) / 100;\n    });\n  }\n\n  function multiply(x) {\n    x = _.isArray(x) ? x : [].slice.call(arguments);\n\n    return _.reduce(x, function (a, b) {\n      a = parseFloat(a);\n      b = parseFloat(b);\n      return Math.round(a * 100) * Math.round(b * 100) / 10000;\n    });\n  }\n\n  function divide(x) {\n    x = _.isArray(x) ? x : [].slice.call(arguments);\n\n    return _.reduce(x, function (a, b) {\n      a = parseFloat(a);\n      b = parseFloat(b);\n      return Math.round(a * 100) / Math.round(b * 100);\n    });\n  }\n\n  function round(x, p) {\n    p = Math.pow(10, p || 0);\n    return Math.round(parseFloat(x) * p) / p;\n  }\n\n  function floor(x, p) {\n    p = Math.pow(10, p || 0);\n    return Math.floor(parseFloat(x) * p) / p;\n  }\n\n  function ceil(x, p) {\n    p = Math.pow(10, p || 0);\n    return Math.ceil(parseFloat(x) * p) / p;\n  }\n\n  function percentage(a, b, overflow) {\n    var result = _.round(100 * a / b);\n    if (!overflow) {\n      if (result > 100) result = 100;else if (result < 0) result = 0;\n    }\n    return result;\n  }\n\n  function range(start, end) {\n    start = Number(start);\n    end = Number(end);\n    var result = [],\n        dir = start <= end ? 1 : -1;\n    //end = end + dir;\n    while (start !== end) {\n      result.push(start);\n      start += dir;\n    }\n    return result;\n  }\n\n  function titleCase(str) {\n    return _.flow(_.words, _.partial(_.map, _, _.capitalize), function (w) {\n      return w.join(\" \");\n    })(str);\n  }\n})();\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function () {\n  'use strict';\n  /**\n   * Definition for the cn.model module\n   */\n\n  angular.module('cn.util', []).factory('cnUtil', ['$rootScope', 'cnSession', 'EVENTS', function ($rootScope, cnSession, EVENTS) {\n    var removeStretegies = {\n      'delete': function _delete(obj, key) {\n        delete obj[key];\n      },\n      'null': function _null(obj, key) {\n        obj[key] = null;\n      }\n    };\n\n    var user = cnSession.getUser();\n\n    return {\n      buildParams: buildParams,\n      buildSref: buildSref,\n      cleanModel: cleanModel,\n      cleanModelVal: cleanModelVal,\n      cleanEmptyJson: cleanEmptyJson,\n      diff: diff,\n      getModified: getModified,\n      inheritCommon: inheritCommon,\n      extend: extend,\n      constructErrorMessageAsHtml: constructErrorMessageAsHtml,\n      constructPopoverHtml: constructPopoverHtml,\n      equals: equals,\n      convertToLocalTime: convertToLocalTime,\n      convertToPtTime: convertToPtTime,\n      filterObjectByKeys: filterObjectByKeys\n    };\n\n    /////////\n\n    function buildParams() {\n      for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n        params[_key] = arguments[_key];\n      }\n\n      if (!params[0]) return '';\n      if (_.isArray(params[0])) params = params[0];\n\n      if (params.length > 1) {\n        params = params.reduceRight(function (prev, cur) {\n          return _.assign(prev, cur);\n        }, {});\n      } else params = params[0];\n      return _.isString(params) ? params : angular.toJson(params);\n    }\n\n    function buildSref(state) {\n      for (var _len2 = arguments.length, params = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n\n      return state + '(' + buildParams.apply(undefined, params) + ')';\n    }\n\n    function cleanModel(model) {\n      _.each(model, cleanModelVal);\n      return model;\n    }\n\n    function cleanModelVal(modelVal) {\n      // if array,\n      if (_.isArray(modelVal)) {\n        modelVal.forEach(cleanModelVal);\n      } else if (_.isObject(modelVal)) {\n        _.each(modelVal, function (val, key) {\n          if (val === null || val === undefined) delete modelVal[key];else if (_.isArray(val)) val.forEach(cleanModelVal);else if (_.isObject(val)) cleanModelVal(val);\n        });\n      }\n    }\n\n    function diff(original, current, deep, removeStrategy) {\n      return getModified(original, current, removeStrategy, !deep);\n    }\n\n    function getModified(original, copy, removeStrategy, shallow) {\n      var removeHandler = removeStretegies[removeStrategy] || removeStretegies[null];\n      var eq = shallow ? equals : angular.equals;\n\n      if (eq(original, copy)) return;\n      if (_.isObject(copy) && !_.isArray(copy)) {\n        var modified = {};\n        _.each(copy, function (val, key) {\n          if (shallow) {\n            if (!eq(val, original[key])) {\n              modified[key] = cleanEmptyJson(val, original[key]);\n            }\n          } else {\n            var tmp = original[key] ? getModified(original[key], val, removeStrategy) : val;\n            if (tmp !== undefined && !eq(original[key], tmp)) modified[key] = tmp;\n          }\n        });\n        _.each(original, function (val, key) {\n          if (val && (copy[key] === null || copy[key] === undefined)) {\n            removeHandler(modified, key);\n          }\n        });\n        return _.isEmpty(modified) ? undefined : modified;\n      }\n      return copy;\n    }\n\n    function cleanEmptyJson(copy, original) {\n      if (_.isArray(copy)) {\n        return _.map(copy, function (x, i) {\n          return cleanEmptyJson(x, original ? original[i] : undefined);\n        });\n      }\n      if (_.isObject(copy)) {\n        var ret = {},\n            k = void 0,\n            v = void 0,\n            a = void 0,\n            b = void 0;\n        for (k in copy) {\n          a = copy[k];\n          b = _.get(original, k);\n          if (!_.isTrulyEmpty(a, null)) {\n            v = cleanEmptyJson(a, b);\n            if (!_.isUndefined(v)) ret[k] = v;\n          }\n        }\n        return _.isEmpty(ret) ? undefined : ret;\n      }\n      return copy;\n    }\n\n    function undefinedAndFalsy(a, b) {\n      return (a === undefined || b === undefined) && (a === false || a === 0 || b === false || b === 0);\n    }\n\n    /* Ripping off angular.equals but treating empty array and undefined/null as equal */\n    function equals(a, b) {\n      if (a === b || _.isTrulyEmpty(a, null) && _.isTrulyEmpty(b, null) && !undefinedAndFalsy(a, b)) return true;\n      var ta = typeof a === 'undefined' ? 'undefined' : _typeof(a),\n          tb = typeof b === 'undefined' ? 'undefined' : _typeof(b),\n          l = void 0,\n          k = void 0,\n          ks = void 0;\n      if (ta === tb && ta === 'object' && _.isObject(a) && _.isObject(b)) {\n        if (_.isArray(a)) {\n          if (!_.isArray(b)) return false;\n          if ((l = a.length) === b.length) {\n            for (k = 0; k < l; k++) {\n              if (!equals(a[k], b[k])) return false;\n            }\n            return true;\n          }\n        } else if (_.isDate(a)) {\n          return _.isDate(b) && equals(a.getTime(), b.getTime());\n        } else if (_.isRegExp(a)) {\n          return _.isRegExp(b) && a.toString() === b.toString();\n        } else {\n          if (_.isArray(b) || _.isDate(b) || _.isRegExp(b)) return false;\n          ks = Object.create(null);\n          for (k in a) {\n            if (k.charAt(0) === '$' || _.isFunction(a[k])) continue;\n            if (!equals(a[k], b[k])) return false;\n            if (!_.isTrulyEmpty(a[k], null)) ks[k] = true;\n          }\n          for (k in b) {\n            if (!(k in ks) && k.charAt(0) !== '$' && !_.isTrulyEmpty(b[k], null) && !_.isFunction(b[k])) return false;\n          }\n          return true;\n        }\n      }\n      return false;\n    }\n\n    function inheritCommon(from, to) {\n      _.each(to, function (val, key) {\n        if (key in from) {\n          val = from[key];\n          if (_.isObject(val) && !_.isArray(val) && to[key]) {\n            to[key] = inheritCommon(val, to[key]);\n          } else {\n            to[key] = val;\n          }\n        }\n      });\n      return to;\n    }\n\n    function extend(base, sub) {\n      // Avoid instantiating the base class just to setup inheritance\n      // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\n      // for a polyfill\n      // Also, do a recursive merge of two prototypes, so we don't overwrite\n      // the existing prototype, but still maintain the inheritance chain\n      // Thanks to @ccnokes\n      var ogProto = sub.prototype;\n      sub.prototype = Object.create(base.prototype);\n      _.extend(sub.prototype, ogProto);\n      // Remember the constructor property was set wrong, let's fix it\n      sub.prototype.constructor = sub;\n      // In ECMAScript5+ (all modern browsers), you can make the constructor property\n      // non-enumerable if you define it like this instead\n      Object.defineProperty(sub.prototype, 'constructor', {\n        enumerable: false,\n        value: sub\n      });\n    }\n\n    /**\n     * Used to build an HTML representation of the description keys in the errors array.\n     * See: API call GET /campaigns/:id/subCampaigns/status<\n     *\n     * Sample HTML <p>One error<br/>Another error</p>\n     *\n     * @param errors{array}\n     * @returns {string}\n     */\n    function constructErrorMessageAsHtml(errors) {\n      var errorMessage = '';\n      errors.forEach(function (error) {\n        errorMessage = errorMessage + '<p class=\"cn-error\">' + error.description + '</p>';\n      });\n      return errorMessage;\n    }\n\n    /**\n     * Used to append a popoverHtml key on the objects (campaigns, adSets, ads)\n     * that contains the name and id of the object so it can be show in in the popover\n     *\n     * @param objectsArray\n     * @param nameKey\n     * @param idKey\n     * @returns {*}\n     */\n    function constructPopoverHtml(objectsArray, nameKey, idKey) {\n      objectsArray.forEach(function (object) {\n        object.popoverHtml = '<p class=\"popover-text\">Name: ' + object[nameKey] + '</p>' + '<p class=\"popover-text\">ID: ' + object[idKey] + '</p>';\n      });\n      return objectsArray;\n    }\n\n    /**\n     * convert given datetime string to local time from PT time\n     *\n     * @param ptTime: string\n     * @returns localTime: string\n     */\n    function convertToLocalTime(ptTime) {\n      if (!ptTime) return;\n\n      if (!moment(ptTime, 'YYYY-MM-DD HH:mm:ss').isValid()) {\n        throw 'Invalid datetime string detected: ' + ptTime;\n      }\n\n      var dateInPT = void 0;\n      var localTime = void 0;\n\n      if (user.timezone) {\n        dateInPT = moment.tz(ptTime, \"YYYY-MM-DD HH:mm:ss\", \"America/Los_Angeles\");\n        localTime = dateInPT.tz(user.timezone).format('YYYY-MM-DD HH:mm:ss');\n        return localTime;\n      }\n      dateInPT = new Date(ptTime + \" UTC-8\");\n      localTime = dateInPT.toLocaleString();\n\n      return localTime;\n    }\n\n    /**\n     * modified start and end time in the model\n     * @param campaign: vm.model\n     * @returns campaign: vm.model\n     */\n    function convertToPtTime(campaign) {\n      try {\n        if (campaign.startDate && campaign.stopDate) {\n          campaign.startDate = convertToPtTimeString(campaign.startDate);\n          campaign.stopDate = convertToPtTimeString(campaign.stopDate);\n        } else if (campaign.startTime && campaign.endTime) {\n          campaign.startTime = convertToPtTimeString(campaign.startTime);\n          campaign.endTime = convertToPtTimeString(campaign.endTime);\n        }\n        return campaign;\n      } catch (error) {\n        $rootScope.$broadcast(EVENTS.notify, error);\n      }\n    }\n\n    /**\n     * @param localTime: string\n     * @returns ptTime: string\n     */\n    function convertToPtTimeString(localTime) {\n      if (!localTime || !moment(localTime, 'YYYY-MM-DD HH:mm:ss').isValid()) {\n        throw 'Invalid datetime string detected: ' + localTime;\n      }\n      var dateInLocal = moment.tz(localTime, \"YYYY-MM-DD HH:mm:ss\", user.timezone);\n      return dateInLocal.tz(\"America/Los_Angeles\").format('YYYY-MM-DD HH:mm:ss');\n    }\n\n    /**\n     * @param {Array} keysToRemove string keys being removed\n     * @param {Object} obj object to filter\n     * @returns {Object} filtered object\n     */\n    function filterObjectByKeys(obj, keysToRemove) {\n      if (!_.isObject(obj)) return {};\n      return Object.keys(obj).filter(function (key) {\n        return !keysToRemove.includes(key);\n      }).reduce(function (result, key) {\n        result[key] = obj[key];\n        return result;\n      }, {});\n    }\n  }]);\n})();","(function() {\n  'use strict';\n\n  /**\n   * Some useful util functions to add to lodash/underscore\n   *\n   * author: dzuch\n   */\n\n  _.mixin({\n    allEqual,\n    empty,\n    add,\n    subtract,\n    multiply,\n    divide,\n    round,\n    floor,\n    ceil,\n    percentage,\n    isFalsy,\n    isTrulyEmpty,\n    /* deprecate if upgrading lodash to v4 */\n    nth,\n\n    /* TODO: remove this, not needed and can achieve with lodash\n     * Override lodash's range to allow high to low ranges\n     */\n    range,\n    titleCase\n  });\n\n  ////////\n\n  function nth(array, n) {\n    if(array && array.length) {\n      let l = array.length;\n      n += n < 0 ? l : 0;\n      if(n > l) return array[n];\n    }\n  }\n\n  function isFalsy(x) {\n    if(!x) return true;\n    if(_.isObject(x)) {\n      if(_.isDate(x) || _.isRegExp(x)) return false;\n      if(_.isEmpty(x)) return true;\n      return _.every(x, _.isFalsy);\n    }\n    return false;\n  }\n\n  function isTrulyEmpty(x, ...emptyVals) {\n    return (\n      x === undefined ||\n      _.some(emptyVals, v => x === v) ||\n      _.isObject(x) && !x.length && _.every(x, y => _.isTrulyEmpty(y, ...emptyVals))\n    );\n  }\n\n  function allEqual(vals) {\n    let first = _.first(vals);\n    if(_.isArray(first) && !_.isObject(_.first(first))) {\n      return _.allEqual(vals.map(v => JSON.stringify(v)));\n    }\n    if(_.isObject(first)) {\n      return _.every(vals, _.matches(first));\n    }\n    return _.uniq(vals).length === 1;\n  }\n\n  function empty(obj) {\n    if(_.isArray(obj)) {\n      obj.length = 0;\n      return obj;\n    }\n    _.each(obj, function(val, key) {\n      delete obj[key];\n    });\n    return obj;\n  }\n\n  function add(x) {\n    x = _.isArray(x) ? x : [].slice.call(arguments);\n\n    return _.reduce(x, function(a, b) {\n      a = parseFloat(a);\n      b = parseFloat(b);\n      return (Math.round(a * 100) + Math.round(b * 100)) / 100;\n    });\n  }\n\n  function subtract(x) {\n    x = _.isArray(x) ? x : [].slice.call(arguments);\n\n    return _.reduce(x, function(a, b) {\n      a = parseFloat(a);\n      b = parseFloat(b);\n      return (Math.round(a * 100) - Math.round(b * 100)) / 100;\n    });\n  }\n\n  function multiply(x) {\n    x = _.isArray(x) ? x : [].slice.call(arguments);\n\n    return _.reduce(x, function(a, b) {\n      a = parseFloat(a);\n      b = parseFloat(b);\n      return (Math.round(a * 100) * Math.round(b * 100)) / 10000;\n    });\n  }\n\n  function divide(x) {\n    x = _.isArray(x) ? x : [].slice.call(arguments);\n\n    return _.reduce(x, function(a, b) {\n      a = parseFloat(a);\n      b = parseFloat(b);\n      return (Math.round(a * 100) / Math.round(b * 100));\n    });\n  }\n\n  function round(x, p) {\n    p = Math.pow(10, p || 0);\n    return Math.round(parseFloat(x) * p) / p;\n  }\n\n  function floor(x, p) {\n    p = Math.pow(10, p || 0);\n    return Math.floor(parseFloat(x) * p) / p;\n  }\n\n  function ceil(x, p) {\n    p = Math.pow(10, p || 0);\n    return Math.ceil(parseFloat(x) * p) / p;\n  }\n\n  function percentage(a, b, overflow) {\n    var result = _.round(100 * a / b);\n    if(!overflow) {\n      if(result > 100) result = 100;\n      else if(result < 0) result = 0;\n    }\n    return result;\n  }\n\n  function range(start, end) {\n    start = Number(start);\n    end = Number(end);\n    var result = [],\n        dir = (start <= end) ? 1 : -1;\n    //end = end + dir;\n    while(start !== end) {\n      result.push(start);\n      start += dir;\n    }\n    return result;\n  }\n\n  function titleCase(str) {\n    return _.flow(\n      _.words,\n      _.partial(_.map, _, _.capitalize),\n      w => w.join(\" \")\n    )(str);\n  }\n\n})();\n","(function() {\n  'use strict';\n  /**\n   * Definition for the cn.model module\n   */\n  angular.module('cn.util', [])\n      .factory('cnUtil', ['$rootScope', 'cnSession', 'EVENTS', function($rootScope, cnSession, EVENTS) {\n        let removeStretegies = {\n          'delete': (obj, key) => {delete obj[key];},\n          'null': (obj, key) => {obj[key] = null;}\n        };\n\n        let user = cnSession.getUser();\n\n        return {\n          buildParams,\n          buildSref,\n          cleanModel,\n          cleanModelVal,\n          cleanEmptyJson,\n          diff,\n          getModified,\n          inheritCommon,\n          extend,\n          constructErrorMessageAsHtml,\n          constructPopoverHtml,\n          equals,\n          convertToLocalTime,\n          convertToPtTime,\n          filterObjectByKeys,\n        };\n\n        /////////\n\n        function buildParams(...params) {\n          if(!params[0]) return '';\n          if(_.isArray(params[0])) params = params[0];\n\n          if(params.length > 1) {\n            params = params.reduceRight((prev, cur) => _.assign(prev, cur), {});\n          }\n          else params = params[0];\n          return _.isString(params) ? params : angular.toJson(params);\n        }\n\n        function buildSref(state, ...params) {\n          return `${state}(${buildParams(...params)})`;\n        }\n\n        function cleanModel(model) {\n          _.each(model, cleanModelVal);\n          return model;\n        }\n\n        function cleanModelVal(modelVal) {\n          // if array,\n          if(_.isArray(modelVal)) {\n            modelVal.forEach(cleanModelVal);\n          }\n          else if(_.isObject(modelVal)) {\n            _.each(modelVal, (val, key) => {\n              if(val === null || val === undefined) delete modelVal[key];\n              else if(_.isArray(val)) val.forEach(cleanModelVal);\n              else if(_.isObject(val)) cleanModelVal(val);\n            });\n          }\n        }\n\n        function diff(original, current, deep, removeStrategy) {\n          return getModified(original, current, removeStrategy, !deep);\n        }\n\n        function getModified(original, copy, removeStrategy, shallow) {\n          let removeHandler = removeStretegies[removeStrategy] || removeStretegies[null];\n          let eq = shallow ? equals : angular.equals;\n\n          if(eq(original, copy)) return;\n          if(_.isObject(copy) && !_.isArray(copy)) {\n            let modified = {};\n            _.each(copy, (val, key) => {\n              if(shallow) {\n                if(!eq(val, original[key])) {\n                  modified[key] = cleanEmptyJson(val, original[key]);\n                }\n              }\n              else {\n                let tmp = original[key] ?\n                    getModified(original[key], val, removeStrategy) :\n                    val;\n                if(tmp !== undefined && !eq(original[key], tmp)) modified[key] = tmp;\n              }\n            });\n            _.each(original, (val, key) => {\n              if(val && (copy[key] === null || copy[key] === undefined)) {\n                removeHandler(modified, key);\n              }\n            });\n            return _.isEmpty(modified) ? undefined : modified;\n          }\n          return copy;\n        }\n\n        function cleanEmptyJson(copy, original) {\n          if(_.isArray(copy)) {\n            return _.map(\n              copy,\n              (x, i) => cleanEmptyJson(x, original ? original[i] : undefined)\n            );\n          }\n          if(_.isObject(copy)) {\n            let ret = {}, k, v, a, b;\n            for(k in copy) {\n              a = copy[k];\n              b = _.get(original, k);\n              if(!_.isTrulyEmpty(a, null)) {\n                v = cleanEmptyJson(a, b);\n                if(!_.isUndefined(v)) ret[k] = v;\n              }\n            }\n            return _.isEmpty(ret) ? undefined : ret;\n          }\n          return copy;\n        }\n\n        function undefinedAndFalsy(a, b) {\n          return (\n            (a === undefined || b === undefined) &&\n            (a === false || a === 0 || b === false || b === 0)\n          );\n        }\n\n        /* Ripping off angular.equals but treating empty array and undefined/null as equal */\n        function equals(a, b) {\n          if(a === b ||\n             (_.isTrulyEmpty(a, null) &&\n              _.isTrulyEmpty(b, null) &&\n              !undefinedAndFalsy(a, b))\n            ) return true;\n          let ta = typeof a, tb = typeof b, l, k, ks;\n          if(ta === tb && ta === 'object' && _.isObject(a) && _.isObject(b)) {\n            if(_.isArray(a)) {\n              if(!_.isArray(b)) return false;\n              if((l = a.length) === b.length) {\n                for(k = 0; k < l; k++) {\n                  if(!equals(a[k], b[k])) return false;\n                }\n                return true;\n              }\n            }\n            else if(_.isDate(a)) {\n              return _.isDate(b) && equals(a.getTime(), b.getTime());\n            }\n            else if(_.isRegExp(a)) {\n              return _.isRegExp(b) && a.toString() === b.toString();\n            }\n            else {\n              if(_.isArray(b) || _.isDate(b) || _.isRegExp(b)) return false;\n              ks = Object.create(null);\n              for(k in a) {\n                if(k.charAt(0) === '$' || _.isFunction(a[k])) continue;\n                if(!equals(a[k], b[k])) return false;\n                if(!_.isTrulyEmpty(a[k], null)) ks[k] = true;\n              }\n              for(k in b) {\n                if(!(k in ks) &&\n                    k.charAt(0) !== '$' &&\n                    !_.isTrulyEmpty(b[k], null) &&\n                    !_.isFunction(b[k])) return false;\n              }\n              return true;\n            }\n          }\n          return false;\n        }\n\n        function inheritCommon(from, to) {\n          _.each(to, function(val, key) {\n            if(key in from) {\n              val = from[key];\n              if(_.isObject(val) && !_.isArray(val) && to[key]) {\n                to[key] = inheritCommon(val, to[key]);\n              }\n              else {\n                to[key] = val;\n              }\n            }\n          });\n          return to;\n        }\n\n        function extend(base, sub) {\n          // Avoid instantiating the base class just to setup inheritance\n          // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\n          // for a polyfill\n          // Also, do a recursive merge of two prototypes, so we don't overwrite\n          // the existing prototype, but still maintain the inheritance chain\n          // Thanks to @ccnokes\n          var ogProto = sub.prototype;\n          sub.prototype = Object.create(base.prototype);\n          _.extend(sub.prototype, ogProto);\n          // Remember the constructor property was set wrong, let's fix it\n          sub.prototype.constructor = sub;\n          // In ECMAScript5+ (all modern browsers), you can make the constructor property\n          // non-enumerable if you define it like this instead\n          Object.defineProperty(sub.prototype, 'constructor', {\n            enumerable: false,\n            value: sub\n          });\n        }\n\n        /**\n         * Used to build an HTML representation of the description keys in the errors array.\n         * See: API call GET /campaigns/:id/subCampaigns/status<\n         *\n         * Sample HTML <p>One error<br/>Another error</p>\n         *\n         * @param errors{array}\n         * @returns {string}\n         */\n        function constructErrorMessageAsHtml(errors) {\n          var errorMessage = '';\n          errors.forEach(function(error) {\n            errorMessage = errorMessage + '<p class=\"cn-error\">' + error.description + '</p>';\n          });\n          return errorMessage;\n        }\n\n        /**\n         * Used to append a popoverHtml key on the objects (campaigns, adSets, ads)\n         * that contains the name and id of the object so it can be show in in the popover\n         *\n         * @param objectsArray\n         * @param nameKey\n         * @param idKey\n         * @returns {*}\n         */\n        function constructPopoverHtml(objectsArray, nameKey, idKey) {\n          objectsArray.forEach(function(object) {\n            object.popoverHtml = '<p class=\"popover-text\">Name: ' + object[nameKey] + '</p>' + '<p class=\"popover-text\">ID: ' + object[idKey] + '</p>';\n          });\n          return objectsArray;\n        }\n\n        /**\n         * convert given datetime string to local time from PT time\n         *\n         * @param ptTime: string\n         * @returns localTime: string\n         */\n        function convertToLocalTime(ptTime) {\n          if (!ptTime) return;\n          \n          if (!moment(ptTime, 'YYYY-MM-DD HH:mm:ss').isValid()) {\n            throw `Invalid datetime string detected: ${ptTime}`;\n          }\n\n          let dateInPT;\n          let localTime;\n          \n          if (user.timezone) {\n            dateInPT = moment.tz(ptTime, \"YYYY-MM-DD HH:mm:ss\", \"America/Los_Angeles\");\n            localTime = dateInPT.tz(user.timezone).format('YYYY-MM-DD HH:mm:ss');\n            return localTime;\n          }\n          dateInPT = new Date(ptTime + \" UTC-8\");\n          localTime = dateInPT.toLocaleString();\n\n          return localTime;\n        }\n\n        /**\n         * modified start and end time in the model\n         * @param campaign: vm.model\n         * @returns campaign: vm.model\n         */\n        function convertToPtTime(campaign) {\n          try {\n            if(campaign.startDate && campaign.stopDate) {\n              campaign.startDate = convertToPtTimeString(campaign.startDate);\n              campaign.stopDate = convertToPtTimeString(campaign.stopDate);\n            } else if(campaign.startTime && campaign.endTime) {\n              campaign.startTime = convertToPtTimeString(campaign.startTime);\n              campaign.endTime = convertToPtTimeString(campaign.endTime);\n            }\n            return campaign;\n          } catch (error) {\n            $rootScope.$broadcast(EVENTS.notify, error);\n          }\n        }\n\n        /**\n         * @param localTime: string\n         * @returns ptTime: string\n         */\n        function convertToPtTimeString (localTime) {\n          if (!localTime || !moment(localTime, 'YYYY-MM-DD HH:mm:ss').isValid()) {\n            throw `Invalid datetime string detected: ${localTime}`;\n          }\n          const dateInLocal = moment.tz(localTime , \"YYYY-MM-DD HH:mm:ss\", user.timezone);\n          return dateInLocal.tz(\"America/Los_Angeles\").format('YYYY-MM-DD HH:mm:ss');\n        }\n\n        /**\n         * @param {Array} keysToRemove string keys being removed\n         * @param {Object} obj object to filter\n         * @returns {Object} filtered object\n         */\n        function filterObjectByKeys(obj, keysToRemove) {\n          if(!_.isObject(obj)) return {}\n          return Object.keys(obj).filter(key => !keysToRemove.includes(key)).reduce((result, key) => {\n            result[key] = obj[key];\n            return result;\n          }, {});\n        }\n      }]);\n})();\n"]}
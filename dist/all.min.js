"use strict";!function(){function t(t,r){if(t&&t.length){var e=t.length;if(r+=r<0?e:0,r>e)return t[r]}}function r(t){return!t||!!_.isObject(t)&&(!_.isDate(t)&&!_.isRegExp(t)&&(!!_.isEmpty(t)||_.every(t,_.isFalsy)))}function e(t){for(var r=arguments.length,e=Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];return void 0===t||_.some(e,function(r){return t===r})||_.isObject(t)&&!t.length&&_.every(t,function(t){var r;return(r=_).isTrulyEmpty.apply(r,[t].concat(e))})}function n(t){var r=_.first(t);return _.isArray(r)&&!_.isObject(_.first(r))?_.allEqual(t.map(function(t){return JSON.stringify(t)})):_.isObject(r)?_.every(t,_.matches(r)):1===_.uniq(t).length}function i(t){return _.isArray(t)?(t.length=0,t):(_.each(t,function(r,e){delete t[e]}),t)}function o(t){return t=_.isArray(t)?t:[].slice.call(arguments),_.reduce(t,function(t,r){return t=parseFloat(t),r=parseFloat(r),(Math.round(100*t)+Math.round(100*r))/100})}function a(t){return t=_.isArray(t)?t:[].slice.call(arguments),_.reduce(t,function(t,r){return t=parseFloat(t),r=parseFloat(r),(Math.round(100*t)-Math.round(100*r))/100})}function u(t){return t=_.isArray(t)?t:[].slice.call(arguments),_.reduce(t,function(t,r){return t=parseFloat(t),r=parseFloat(r),Math.round(100*t)*Math.round(100*r)/1e4})}function c(t){return t=_.isArray(t)?t:[].slice.call(arguments),_.reduce(t,function(t,r){return t=parseFloat(t),r=parseFloat(r),Math.round(100*t)/Math.round(100*r)})}function s(t,r){return r=Math.pow(10,r||0),Math.round(parseFloat(t)*r)/r}function l(t,r){return r=Math.pow(10,r||0),Math.floor(parseFloat(t)*r)/r}function f(t,r){return r=Math.pow(10,r||0),Math.ceil(parseFloat(t)*r)/r}function p(t,r,e){var n=_.round(100*t/r);return e||(n>100?n=100:n<0&&(n=0)),n}function d(t,r){t=Number(t),r=Number(r);for(var e=[],n=t<=r?1:-1;t!==r;)e.push(t),t+=n;return e}function m(t){return _.flow(_.words,_.partial(_.map,_,_.capitalize),function(t){return t.join(" ")})(t)}_.mixin({allEqual:n,empty:i,add:o,subtract:a,multiply:u,divide:c,round:s,floor:l,ceil:f,percentage:p,isFalsy:r,isTrulyEmpty:e,nth:t,range:d,titleCase:m})}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){angular.module("cn.util",[]).factory("cnUtil",["$rootScope","cnSession","EVENTS",function(t,r,e){function n(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return r[0]?(_.isArray(r[0])&&(r=r[0]),r=r.length>1?r.reduceRight(function(t,r){return _.assign(t,r)},{}):r[0],_.isString(r)?r:angular.toJson(r)):""}function i(t){for(var r=arguments.length,e=Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];return t+"("+n.apply(void 0,e)+")"}function o(t){return _.each(t,a),t}function a(t){_.isArray(t)?t.forEach(a):_.isObject(t)&&_.each(t,function(r,e){null===r||void 0===r?delete t[e]:_.isArray(r)?r.forEach(a):_.isObject(r)&&a(r)})}function u(t,r,e,n){var i=c(t,r,n,!e);return M(i,t),i}function c(t,r,e,n){var i=b[e]||b[null],o=n?f:angular.equals;if(!o(t,r)){if(_.isObject(r)&&!_.isArray(r)){var a={};return _.each(r,function(r,i){if(n)o(r,t[i])||(a[i]=s(r,t[i]));else{var u=t[i]?c(t[i],r,e):r;void 0===u||o(t[i],u)||(a[i]=u)}}),_.each(t,function(t,e){!t||null!==r[e]&&void 0!==r[e]||i(a,e)}),_.isEmpty(a)?void 0:a}return r}}function s(t,r){if(_.isArray(t))return _.map(t,function(t,e){return s(t,r?r[e]:void 0)});if(_.isObject(t)){var e={},n=void 0,i=void 0,o=void 0,a=void 0;for(n in t)o=t[n],a=_.get(r,n),_.isTrulyEmpty(o,null)||(i=s(o,a),_.isUndefined(i)||(e[n]=i));return _.isEmpty(e)?void 0:e}return t}function l(t,r){return!(void 0!==t&&void 0!==r||t!==!1&&0!==t&&r!==!1&&0!==r)}function f(t,r){if(t===r||_.isTrulyEmpty(t,null)&&_.isTrulyEmpty(r,null)&&!l(t,r))return!0;var e="undefined"==typeof t?"undefined":_typeof(t),n="undefined"==typeof r?"undefined":_typeof(r),i=void 0,o=void 0,a=void 0;if(e===n&&"object"===e&&_.isObject(t)&&_.isObject(r)){if(!_.isArray(t)){if(_.isDate(t))return _.isDate(r)&&f(t.getTime(),r.getTime());if(_.isRegExp(t))return _.isRegExp(r)&&t.toString()===r.toString();if(_.isArray(r)||_.isDate(r)||_.isRegExp(r))return!1;a=Object.create(null);for(o in t)if("$"!==o.charAt(0)&&!_.isFunction(t[o])){if(!f(t[o],r[o]))return!1;_.isTrulyEmpty(t[o],null)||(a[o]=!0)}for(o in r)if(!(o in a||"$"===o.charAt(0)||_.isTrulyEmpty(r[o],null)||_.isFunction(r[o])))return!1;return!0}if(!_.isArray(r))return!1;if((i=t.length)===r.length){for(o=0;o<i;o++)if(!f(t[o],r[o]))return!1;return!0}}return!1}function p(t,r){return _.each(r,function(e,n){n in t&&(e=t[n],_.isObject(e)&&!_.isArray(e)&&r[n]?r[n]=p(e,r[n]):r[n]=e)}),r}function d(t,r){var e=r.prototype;r.prototype=Object.create(t.prototype),_.extend(r.prototype,e),r.prototype.constructor=r,Object.defineProperty(r.prototype,"constructor",{enumerable:!1,value:r})}function m(t){var r="";return t.forEach(function(t){r=r+'<p class="cn-error">'+t.description+"</p>"}),r}function y(t,r,e){return t.forEach(function(t){t.popoverHtml='<p class="popover-text">Name: '+t[r]+'</p><p class="popover-text">ID: '+t[e]+"</p>"}),t}function v(t){if(t){if(!moment(t,"YYYY-MM-DD HH:mm:ss").isValid())throw"Invalid datetime string detected: "+t;var r=void 0,e=void 0;return D.timezone?(r=moment.tz(t,"YYYY-MM-DD HH:mm:ss","America/Los_Angeles"),e=r.tz(D.timezone).format("YYYY-MM-DD HH:mm:ss")):(r=new Date(t+" UTC-8"),e=r.toLocaleString())}}function h(r){try{return r.startDate&&r.stopDate?(r.startDate=g(r.startDate),r.stopDate=g(r.stopDate)):r.startTime&&r.endTime&&(r.startTime=g(r.startTime),r.endTime=g(r.endTime)),r}catch(n){t.$broadcast(e.notify,n)}}function g(t){if(!t||!moment(t,"YYYY-MM-DD HH:mm:ss").isValid())throw"Invalid datetime string detected: "+t;var r=moment.tz(t,"YYYY-MM-DD HH:mm:ss",D.timezone);return r.tz("America/Los_Angeles").format("YYYY-MM-DD HH:mm:ss")}function M(t,r){var e=["startDate","stopDate","startTime","endTime"];for(var n in t)if(e.includes(n)){var i=g(t[n]),o=r[n];i===o&&(console.log("datetime not changed"),delete t[n])}}var b={"delete":function(t,r){delete t[r]},"null":function(t,r){t[r]=null}},D=r.getUser();return{buildParams:n,buildSref:i,cleanModel:o,cleanModelVal:a,cleanEmptyJson:s,diff:u,getModified:c,inheritCommon:p,extend:d,constructErrorMessageAsHtml:m,constructPopoverHtml:y,equals:f,convertToLocalTime:v,convertToPtTime:h,processDateTime:M}}])}();
//# sourceMappingURL=all.min.js.map

"use strict";!function(){function o(o){return _.isArray(o)?(o.length=0,o):(_.each(o,function(e,t){delete o[t]}),o)}function e(o){return o=_.isArray(o)?o:[].slice.call(arguments),_.reduce(o,function(o,e){return o=parseFloat(o),e=parseFloat(e),(Math.round(100*o)+Math.round(100*e))/100})}function t(o){return o=_.isArray(o)?o:[].slice.call(arguments),_.reduce(o,function(o,e){return o=parseFloat(o),e=parseFloat(e),(Math.round(100*o)-Math.round(100*e))/100})}function r(o){return o=_.isArray(o)?o:[].slice.call(arguments),_.reduce(o,function(o,e){return o=parseFloat(o),e=parseFloat(e),Math.round(100*o)*Math.round(100*e)/1e4})}function n(o){return o=_.isArray(o)?o:[].slice.call(arguments),_.reduce(o,function(o,e){return o=parseFloat(o),e=parseFloat(e),Math.round(100*o)/Math.round(100*e)})}function a(o,e){return e=Math.pow(10,e||0),Math.round(parseFloat(o)*e)/e}function i(o,e){return e=Math.pow(10,e||0),Math.floor(parseFloat(o)*e)/e}function u(o,e){return e=Math.pow(10,e||0),Math.ceil(parseFloat(o)*e)/e}function f(o,e,t){var r=_.round(100*o/e);return t||(r>100?r=100:0>r&&(r=0)),r}function c(o,e){o=Number(o),e=Number(e);for(var t=[],r=e>=o?1:-1;o!==e;)t.push(o),o+=r;return t}_.mixin({empty:o,add:e,subtract:t,multiply:r,divide:n,round:a,floor:i,ceil:u,percentage:f,range:c})}(),function(){angular.module("cn.util",[]).factory("cnUtil",function(){function o(o,t,r,n){return console.log("shallow:",r),e(o,t,n||"model",r)}function e(o,t,r,n){var a={"delete":function(o,e){delete o[e]},"null":function(o,e){o[e]=null}},i=a[r]||a[null];if("model"===r&&(r="delete"),!angular.equals(o,t)){if(_.isArray(t)||!_.isObject(t))return t;var u={};return _.each(t,function(t,a){if(n)angular.equals(t,o[a])||(u[a]=t);else{var i=o[a]?e(o[a],t,r):t;void 0===i||angular.equals(o[a],i)||(u[a]=i)}}),_.each(o,function(o,e){!o||null!==t[e]&&void 0!==t[e]||i(u,e)}),_.isEmpty(u)?void 0:u}}function t(o,e){return _.each(e,function(r,n){n in o&&(r=o[n],_.isObject(r)&&!_.isArray(r)&&e[n]?e[n]=t(r,e[n]):e[n]=r)}),e}function r(o,e){var t=e.prototype;e.prototype=Object.create(o.prototype),_.extend(e.prototype,t),e.prototype.constructor=e,Object.defineProperty(e.prototype,"constructor",{enumerable:!1,value:e})}function n(o){var e="";return o.forEach(function(o){e=e+'<p class="cn-error">'+o.description+"</p>"}),e}function a(o,e,t){return o.forEach(function(o){o.popoverHtml='<p class="popover-text">Name: '+o[e]+'</p><p class="popover-text">ID: '+o[t]+"</p>"}),o}return{diff:o,getModified:e,inheritCommon:t,extend:r,constructErrorMessageAsHtml:n,constructPopoverHtml:a}})}(),ngDescribe({name:"getModified",modules:"cn.util",tests:function(o){it("should return nothing for identical objects",function(){expect(o.getModified(1,1)).toBeUndefined(),expect(o.getModified([1,2],[1,2])).toBeUndefined(),expect(o.getModified({foo:1},{foo:1})).toBeUndefined(),expect(o.getModified({foo:[1,2,3]},{foo:[1,2,3]})).toBeUndefined(),expect(o.getModified({foo:{bar:[1,2,3],baz:"foo"}},{foo:{bar:[1,2,3],baz:"foo"}})).toBeUndefined()}),it("should return only differing values",function(){expect(o.getModified(1,2)).toBe(2),expect(o.getModified([1,2],[1,3])).toEqual([1,3]),expect(o.getModified({foo:1},{foo:2})).toEqual({foo:2}),expect(o.getModified({foo:1},{foo:1,bar:2})).toEqual({bar:2}),expect(o.getModified({foo:1,bar:1},{foo:1,bar:2})).toEqual({bar:2}),expect(o.getModified({foo:[1,2,3]},{foo:[1,2,4]})).toEqual({foo:[1,2,4]}),expect(o.getModified({foo:{bar:[1,2,3],baz:"foo"}},{foo:{bar:[1,2,3],baz:"bar"}})).toEqual({foo:{baz:"bar"}}),expect(o.getModified({foo:{bar:[1,2,4],baz:"foo"}},{foo:{bar:[1,2,3],baz:"foo"}})).toEqual({foo:{bar:[1,2,3]}}),expect(o.getModified({foo:{bar:[1,2,3],baz:"foo"}},{foo:{bar:[1,2,3],baz:"foo",biz:1},bar:2})).toEqual({foo:{biz:1},bar:2}),expect(o.getModified({foo:{bar:{baz:[1,2,3],biz:1,buz:"two"}}},{foo:{bar:{baz:[1,2,4],biz:1,buz:"three"}}})).toEqual({foo:{bar:{baz:[1,2,4],buz:"three"}}}),expect(o.getModified({},{foo:{bar:{baz:[1,2,3]}}})).toEqual({foo:{bar:{baz:[1,2,3]}}})}),it("should return null for deleted values",function(){expect(o.getModified({foo:{bar:{baz:[1,2,3],biz:1,buz:"two"}}},{foo:{bar:{baz:[1,2,3]}}})).toEqual({foo:{bar:{biz:null,buz:null}}}),expect(o.getModified({foo:{bar:{baz:[1,2,3]}},biz:1,buz:"two"},{foo:{bar:{baz:[1,2,3]}}})).toEqual({biz:null,buz:null}),expect(o.getModified({foo:2,biz:1,buz:"two"},{foo:3},"delete")).toEqual({foo:3}),expect(o.getModified({foo:2,biz:1,buz:"two"},{foo:2},"delete")).toBeUndefined()})}})({name:"diff",modules:"cn.util",tests:function(o){it("should use `null` remove strategy on root level, and `delete` after",function(){expect(o.diff({foo:1,bar:2,baz:{doo:3,far:4,faz:{foo:1,bar:2}}},{foo:1,baz:{doo:2,far:null,faz:{foo:2,bar:null}}})).toEqual({bar:null,baz:{doo:2,faz:{foo:2}}})})}})({name:"inheritCommon",modules:"cn.util",tests:function(o){it("should return no inherited values",function(){expect(o.inheritCommon({foo:1},{bar:1})).toEqual({bar:1})}),it("should return inherited values",function(){expect(o.inheritCommon({foo:1},{foo:2})).toEqual({foo:1}),expect(o.inheritCommon({foo:1,bar:1},{foo:2})).toEqual({foo:1}),expect(o.inheritCommon({foo:1},{foo:2,bar:1})).toEqual({foo:1,bar:1}),expect(o.inheritCommon({foo:[1]},{foo:[2]})).toEqual({foo:[1]}),expect(o.inheritCommon({foo:{foo:1}},{foo:{foo:2}})).toEqual({foo:{foo:1}}),expect(o.inheritCommon({foo:{foo:1}},{foo:void 0})).toEqual({foo:{foo:1}})})}})({name:"constructErrorMessageAsHtml",modules:"cn.util",tests:function(o){var e={errors:[{description:"An error"}]};it("should have an html p tag at the beginning",function(){dump(o.constructErrorMessageAsHtml(e.errors)),expect(/^<p class="cn-error">/.test(o.constructErrorMessageAsHtml(e.errors))).toBe(!0)}),it("should have an html p tag at the end",function(){expect(/<\/p>$/.test(o.constructErrorMessageAsHtml(e.errors))).toBe(!0)})}})({name:"constructPopoverHtml",modules:"cn.util",tests:function(o){var e=[{name:"test 1",id:1},{name:"test 2",id:2}];it("should return the array with a popoverHtml key on each object in the array",function(){e=o.constructPopoverHtml(e,"name","id"),e.forEach(function(o){expect(o.hasOwnProperty("popoverHtml")).toBe(!0)})}),it("should have an html p tag at the beginning",function(){expect(/^<p class="popover-text">/.test(o.constructPopoverHtml(e,"name","id")[0].popoverHtml)).toBe(!0)}),it("should have an html p tag at the end",function(){expect(/<\/p>$/.test(o.constructPopoverHtml(e,"name","id")[0].popoverHtml)).toBe(!0)})}});
//# sourceMappingURL=all.min.js.map
